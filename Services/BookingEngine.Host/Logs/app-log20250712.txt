2025-07-12 10:14:13.627 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 10:14:13.776 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 10:14:13.825 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 10:14:13.853 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 10:14:13.967 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 10:14:13.971 +03:00 [INF] Hosting environment: Development
2025-07-12 10:14:13.973 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 10:14:47.244 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - application/json 1390
2025-07-12 10:14:47.529 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 10:14:47.601 +03:00 [INF] Route matched with {action = "CreateListPassenger", controller = "Contact"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingEngine.Application.ReservationInfo.Dtos.ContactInfoGetDto]] CreateListPassenger(BookingEngine.Application.ReservationInfo.Dtos.ContactInfoCreateDto) on controller BookingEngine.Host.Controllers.ContactController (BookingEngine.Host).
2025-07-12 10:14:50.358 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-12 10:14:50.570 +03:00 [WRN] No store type was specified for the decimal property 'BaseFare' on entity type 'BookFare'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 10:14:50.582 +03:00 [WRN] No store type was specified for the decimal property 'TotalEquivFare' on entity type 'BookFare'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 10:14:50.585 +03:00 [WRN] No store type was specified for the decimal property 'TotalFare' on entity type 'BookFare'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 10:14:50.588 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'BookFee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 10:14:50.591 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'BookTax'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 10:14:53.197 +03:00 [INF] Executed DbCommand (210ms) [Parameters=[@p0='Damascus' (Size = 100), @p1='Contact_403227da-2b80-45cd-a40d-8f402952156a' (Nullable = false) (Size = 100), @p2='SY' (Nullable = false) (Size = 10), @p3='Syria' (Size = 100), @p4='lubnaalhalabi40@gmail.com' (Nullable = false) (Size = 255), @p5='Lubna' (Size = 100), @p6='Halabi' (Size = 100), @p7='0934205339' (Nullable = false) (Size = 15), @p8=NULL (DbType = Int32), @p9='Ms' (Size = 10), @p10='GFHYG' (Nullable = false) (Size = 20), @p11='05/25/2033' (DbType = Date), @p12='GFHYG' (Nullable = false) (Size = 20), @p13='05/25/2033' (DbType = Date), @p14='91' (Nullable = false) (Size = 10), @p15='+963' (Nullable = false) (Size = 5), @p16='934205339' (Nullable = false) (Size = 15), @p17='91' (Nullable = false) (Size = 10), @p18='+963' (Nullable = false) (Size = 5), @p19='934205339' (Nullable = false) (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Contacts] ([CityName], [Code], [CountryCode], [CountryName], [Email], [FirstName], [LastName], [PhoneNumber], [ReservationId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
MERGE [Passports] USING (
VALUES (@p10, @p11, 0),
(@p12, @p13, 1)) AS i ([DocID], [ExpireDate], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DocID], [ExpireDate])
VALUES (i.[DocID], i.[ExpireDate])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Telephones] USING (
VALUES (@p14, @p15, @p16, 0),
(@p17, @p18, @p19, 1)) AS i ([AreaCityCode], [CountryAccessCode], [PhoneNumber], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AreaCityCode], [CountryAccessCode], [PhoneNumber])
VALUES (i.[AreaCityCode], i.[CountryAccessCode], i.[PhoneNumber])
OUTPUT INSERTED.[Id], i._Position;
2025-07-12 10:14:53.411 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@p20='01/01/2004' (DbType = Date), @p21='4', @p22='SY' (Nullable = false) (Size = 4000), @p23=NULL (Size = 4000), @p24='Lubnaa' (Nullable = false) (Size = 100), @p25='Ms' (Nullable = false) (Size = 10), @p26='ADT' (Nullable = false) (Size = 3), @p27='7' (Nullable = true), @p28='Halabi' (Nullable = false) (Size = 100), @p29='7' (Nullable = true), @p30='01/01/2004' (DbType = Date), @p31='4', @p32='SY' (Nullable = false) (Size = 4000), @p33=NULL (Size = 4000), @p34='Lubnaa' (Nullable = false) (Size = 100), @p35='Ms' (Nullable = false) (Size = 10), @p36='ADT' (Nullable = false) (Size = 3), @p37='8' (Nullable = true), @p38='Halabi' (Nullable = false) (Size = 100), @p39='8' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [PassengerInfos] USING (
VALUES (@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 1)) AS i ([BirthDate], [ContactId], [CountryCode], [FileUrlPath], [GivenName], [NameTitle], [PassengerTypeCode], [PassportId], [Surname], [TelephoneId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BirthDate], [ContactId], [CountryCode], [FileUrlPath], [GivenName], [NameTitle], [PassengerTypeCode], [PassportId], [Surname], [TelephoneId])
VALUES (i.[BirthDate], i.[ContactId], i.[CountryCode], i.[FileUrlPath], i.[GivenName], i.[NameTitle], i.[PassengerTypeCode], i.[PassportId], i.[Surname], i.[TelephoneId])
OUTPUT INSERTED.[Id], i._Position;
2025-07-12 10:14:54.556 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CityName], [t].[Code], [t].[CountryCode], [t].[CountryName], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[ReservationId], [t].[Title], [t0].[Id], [t0].[BirthDate], [t0].[ContactId], [t0].[CountryCode], [t0].[FileUrlPath], [t0].[GivenName], [t0].[NameTitle], [t0].[PassengerTypeCode], [t0].[PassportId], [t0].[Surname], [t0].[TelephoneId], [t0].[Id0], [t0].[DocID], [t0].[ExpireDate], [t0].[Id1], [t0].[AreaCityCode], [t0].[CountryAccessCode], [t0].[PhoneNumber]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CityName], [c].[Code], [c].[CountryCode], [c].[CountryName], [c].[Email], [c].[FirstName], [c].[LastName], [c].[PhoneNumber], [c].[ReservationId], [c].[Title]
    FROM [Contacts] AS [c]
    WHERE [c].[Id] = @__id_0
    ORDER BY [c].[Id] DESC
) AS [t]
LEFT JOIN (
    SELECT [p].[Id], [p].[BirthDate], [p].[ContactId], [p].[CountryCode], [p].[FileUrlPath], [p].[GivenName], [p].[NameTitle], [p].[PassengerTypeCode], [p].[PassportId], [p].[Surname], [p].[TelephoneId], [p0].[Id] AS [Id0], [p0].[DocID], [p0].[ExpireDate], [t1].[Id] AS [Id1], [t1].[AreaCityCode], [t1].[CountryAccessCode], [t1].[PhoneNumber]
    FROM [PassengerInfos] AS [p]
    LEFT JOIN [Passports] AS [p0] ON [p].[PassportId] = [p0].[Id]
    LEFT JOIN [Telephones] AS [t1] ON [p].[TelephoneId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ContactId]
ORDER BY [t].[Id] DESC, [t0].[Id], [t0].[Id0]
2025-07-12 10:14:54.652 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookingEngine.Application.ReservationInfo.Dtos.ContactInfoGetDto'.
2025-07-12 10:14:54.761 +03:00 [INF] Executed action BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host) in 7144.0903ms
2025-07-12 10:14:54.769 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 10:14:54.844 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - 200 792 application/json; charset=utf-8 7616.6492ms
2025-07-12 10:16:41.636 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7219/Amenity - application/json 53
2025-07-12 10:16:41.785 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.AmenityController.Create (BookingEngine.Host)'
2025-07-12 10:16:41.796 +03:00 [INF] Route matched with {action = "Create", controller = "Amenity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingEngine.Application.AmenitiesAppService.Dtos.AmenityGetDto]] Create(BookingEngine.Application.AmenitiesAppService.Dtos.AmenityCreateDto) on controller BookingEngine.Host.Controllers.AmenityController (BookingEngine.Host).
2025-07-12 10:16:42.041 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='Amenity_f5216c51-2e96-4416-a13d-41419df364a2' (Nullable = false) (Size = 100), @p1='sdf' (Size = 4000), @p2='knld' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Amenities] ([Code], [Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-07-12 10:16:42.144 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Code], [a].[Description], [a].[Name]
FROM [Amenities] AS [a]
WHERE [a].[Id] = @__id_0
ORDER BY [a].[Id] DESC
2025-07-12 10:16:42.158 +03:00 [INF] Executing OkObjectResult, writing value of type 'BookingEngine.Application.AmenitiesAppService.Dtos.AmenityGetDto'.
2025-07-12 10:16:42.166 +03:00 [INF] Executed action BookingEngine.Host.Controllers.AmenityController.Create (BookingEngine.Host) in 366.7093ms
2025-07-12 10:16:42.175 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.AmenityController.Create (BookingEngine.Host)'
2025-07-12 10:16:42.178 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7219/Amenity - 200 42 application/json; charset=utf-8 542.2869ms
2025-07-12 10:35:28.310 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 10:35:28.459 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 10:35:28.529 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 10:35:28.574 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 10:35:28.726 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 10:35:28.727 +03:00 [INF] Hosting environment: Development
2025-07-12 10:35:28.728 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 10:37:39.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnaalhalabi@gmail.com - text/plain 65
2025-07-12 10:37:39.451 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-07-12 10:37:39.463 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-12 10:37:39.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnaalhalabi@gmail.com - 403 null null 441.6659ms
2025-07-12 10:38:49.604 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 10:38:49.729 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 10:38:49.811 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 10:38:49.856 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 10:38:49.966 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 10:38:50.002 +03:00 [INF] Hosting environment: Development
2025-07-12 10:38:50.005 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 10:38:55.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnaalhalabi@gmail.com - text/plain 65
2025-07-12 10:38:55.970 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-07-12 10:38:56.002 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-12 10:38:56.013 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:38:56.057 +03:00 [INF] Route matched with {action = "ValidateEmail", controller = "AbstractApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateEmail(System.String) on controller BookingEngine.Host.Controllers.AbstractApiController (BookingEngine.Host).
2025-07-12 10:38:58.183 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2025-07-12 10:38:58.316 +03:00 [INF] Executed action BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host) in 2249.2164ms
2025-07-12 10:38:58.321 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:38:58.333 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnaalhalabi@gmail.com - 200 4 application/json; charset=utf-8 2663.274ms
2025-07-12 10:39:06.987 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnbi@gmail.com - text/plain 65
2025-07-12 10:39:07.128 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-07-12 10:39:07.132 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-12 10:39:07.134 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:39:07.135 +03:00 [INF] Route matched with {action = "ValidateEmail", controller = "AbstractApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateEmail(System.String) on controller BookingEngine.Host.Controllers.AbstractApiController (BookingEngine.Host).
2025-07-12 10:39:08.371 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2025-07-12 10:39:08.381 +03:00 [INF] Executed action BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host) in 1243.9773ms
2025-07-12 10:39:08.385 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:39:08.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?email=lubnbi@gmail.com - 200 5 application/json; charset=utf-8 1402.4153ms
2025-07-12 10:39:34.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?phoneNumber=0934205339 - null null
2025-07-12 10:39:34.549 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:39:34.551 +03:00 [INF] Route matched with {action = "ValidateEmail", controller = "AbstractApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidateEmail(System.String) on controller BookingEngine.Host.Controllers.AbstractApiController (BookingEngine.Host).
2025-07-12 10:39:34.559 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-12 10:39:34.694 +03:00 [INF] Executed action BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host) in 140.9711ms
2025-07-12 10:39:34.697 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidateEmail (BookingEngine.Host)'
2025-07-12 10:39:34.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidateEmail?phoneNumber=0934205339 - 400 244 application/problem+json; charset=utf-8 160.9863ms
2025-07-12 10:39:58.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidatePhone?phoneNumber=0934205339 - null null
2025-07-12 10:39:58.297 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidatePhone (BookingEngine.Host)'
2025-07-12 10:39:58.309 +03:00 [INF] Route matched with {action = "ValidatePhone", controller = "AbstractApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ValidatePhone(System.String) on controller BookingEngine.Host.Controllers.AbstractApiController (BookingEngine.Host).
2025-07-12 10:39:59.021 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2025-07-12 10:39:59.025 +03:00 [INF] Executed action BookingEngine.Host.Controllers.AbstractApiController.ValidatePhone (BookingEngine.Host) in 710.2093ms
2025-07-12 10:39:59.027 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.AbstractApiController.ValidatePhone (BookingEngine.Host)'
2025-07-12 10:39:59.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7219/AbstractApi/ValidatePhone?phoneNumber=0934205339 - 200 5 application/json; charset=utf-8 750.5639ms
2025-07-12 10:55:45.005 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 10:55:45.191 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 10:55:45.255 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 10:55:45.311 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 10:55:45.481 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 10:55:45.523 +03:00 [INF] Hosting environment: Development
2025-07-12 10:55:45.538 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 10:56:00.465 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - application/json 1390
2025-07-12 10:56:00.709 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 10:56:00.767 +03:00 [INF] Route matched with {action = "CreateListPassenger", controller = "Contact"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingEngine.Application.ReservationInfo.Dtos.ContactInfoGetDto]] CreateListPassenger(BookingEngine.Application.ReservationInfo.Dtos.ContactInfoCreateDto) on controller BookingEngine.Host.Controllers.ContactController (BookingEngine.Host).
2025-07-12 10:56:03.510 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-07-12 10:56:03.546 +03:00 [INF] Executed action BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host) in 2756.432ms
2025-07-12 10:56:03.561 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 10:56:03.588 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - 400 null text/plain; charset=utf-8 3143.529ms
2025-07-12 11:28:39.835 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 11:28:40.201 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 11:28:40.289 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 11:28:40.339 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 11:28:40.464 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 11:28:40.466 +03:00 [INF] Hosting environment: Development
2025-07-12 11:28:40.467 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 11:28:44.031 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - application/json 1393
2025-07-12 11:28:44.448 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 11:28:44.514 +03:00 [INF] Route matched with {action = "CreateListPassenger", controller = "Contact"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookingEngine.Application.ReservationInfo.Dtos.ContactInfoGetDto]] CreateListPassenger(BookingEngine.Application.ReservationInfo.Dtos.ContactInfoCreateDto) on controller BookingEngine.Host.Controllers.ContactController (BookingEngine.Host).
2025-07-12 11:28:48.100 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-07-12 11:28:48.125 +03:00 [INF] Executed action BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host) in 3598.8839ms
2025-07-12 11:28:48.130 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.ContactController.CreateListPassenger (BookingEngine.Host)'
2025-07-12 11:28:48.146 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7219/Contact/CreateListPassenger - 400 null text/plain; charset=utf-8 4135.5533ms
2025-07-12 11:56:21.430 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 11:56:21.596 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 11:56:21.670 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 11:56:21.720 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 11:56:21.871 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 11:56:21.873 +03:00 [INF] Hosting environment: Development
2025-07-12 11:56:21.877 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 11:56:35.810 +03:00 [INF] Application is shutting down...
2025-07-12 12:14:49.638 +03:00 [INF] User profile is available. Using 'C:\Users\lalhalabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-12 12:14:49.822 +03:00 [WRN] The WebRootPath was not found: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\wwwroot. Static files may be unavailable.
2025-07-12 12:14:49.893 +03:00 [WRN] Overriding address(es) 'http://devsrv01:7219'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-12 12:14:49.948 +03:00 [INF] Now listening on: http://[::]:7219
2025-07-12 12:14:50.107 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-12 12:14:50.110 +03:00 [INF] Hosting environment: Development
2025-07-12 12:14:50.113 +03:00 [INF] Content root path: C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host
2025-07-12 12:15:16.211 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7219/Payment/Checkout - application/json 2676
2025-07-12 12:15:16.542 +03:00 [INF] Executing endpoint 'BookingEngine.Host.Controllers.PaymentController.CreateCheckout (BookingEngine.Host)'
2025-07-12 12:15:16.602 +03:00 [INF] Route matched with {action = "CreateCheckout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(BookingEngine.Application.PaymantAppService.Dtos.PaymentCreateDto) on controller BookingEngine.Host.Controllers.PaymentController (BookingEngine.Host).
2025-07-12 12:15:19.299 +03:00 [INF] Executed action BookingEngine.Host.Controllers.PaymentController.CreateCheckout (BookingEngine.Host) in 2688.3999ms
2025-07-12 12:15:19.484 +03:00 [INF] Executed endpoint 'BookingEngine.Host.Controllers.PaymentController.CreateCheckout (BookingEngine.Host)'
2025-07-12 12:15:20.102 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Stripe.StripeException: We're sorry, but we're unable to serve your request.
   at Stripe.LiveApiRequestor.ProcessResponse[T](StripeResponse response, ApiMode apiMode) in /_/src/Stripe.net/Infrastructure/Public/LiveApiRequestor.cs:line 245
   at Stripe.LiveApiRequestor.RequestAsync[T](BaseAddress baseAddress, HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Infrastructure/Public/LiveApiRequestor.cs:line 110
   at Stripe.Service.RequestAsync[T](BaseAddress baseAddress, HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Services/_base/Service.cs:line 100
   at BookingEngine.Application.PaymantAppService.PaymentAppService.CreateCheckoutSessionAsync(StripeSettingsDto settings, StripeInfoDto stripeInfo, String pnr) in C:\Users\lalhalabi\Desktop\ASP.net\Application\BookingEngine.Application\PaymantAppService\PaymentAppService.cs:line 59
   at BookingEngine.Host.Controllers.PaymentController.CreateCheckout(PaymentCreateDto paymentCreateDto) in C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\Controllers\PaymentController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at BookingEngine.Host.Middleware.TenantMiddleware.Invoke(HttpContext context) in C:\Users\lalhalabi\Desktop\ASP.net\Services\BookingEngine.Host\Middleware\TenantMiddleware.cs:line 39
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-12 12:15:20.218 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7219/Payment/Checkout - 500 null application/json 4022.3857ms
